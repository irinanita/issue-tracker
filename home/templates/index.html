{% extends 'base.html' %}

{% block banners %}

    <!----------------------------------------------------------------- Carousel -->
    <div class="bd-example">
        <div id="carouselExampleCaptions" class="carousel slide carousel-fade" data-ride="carousel">
            <ol class="carousel-indicators">
                <li data-target="#carouselExampleCaptions" data-slide-to="0" class="active"></li>
                <li data-target="#carouselExampleCaptions" data-slide-to="1"></li>
                <li data-target="#carouselExampleCaptions" data-slide-to="2"></li>
            </ol>
            <div class="carousel-inner">
                <div class="carousel-item active">
                    <img src="https://c.pxhere.com/photos/c5/d0/code_html_digital_coding_web_programming_computer_technology-670370.jpg!d"
                         class="d-block w-100" alt="...">
                    <div class="carousel-caption d-none d-md-block">
                        <h3>Best Issue Tracker</h3>
                        <p><span class="font-italic">"Easy to use and perfect for team work!"</span> - One happy user
                        </p>
                    </div>
                </div>
                <div class="carousel-item">
                    <img src="https://live.staticflickr.com/774/20013034233_19f520eefb_b.jpg" class="d-block w-100"
                         alt="...">
                    <div class="carousel-caption d-none d-md-block">
                        <h3>Demo Version Absolutely FREE</h3>
                        <p>Try it now yourself and track issues and features of the issue tracker. Mindblowing!!!</p>
                    </div>
                </div>
                <div class="carousel-item">
                    <img src="https://www.maxpixel.net/static/photo/1x/Coding-Css-Programming-Software-Development-1853305.jpg"
                         class="d-block w-100" alt="...">
                    <div class="carousel-caption d-none d-md-block">
                        <h3>Customize & Optimize</h3>
                        <p>Any preferences? Request features and report bugs yourself.</p>
                    </div>
                </div>
            </div>
            <a class="carousel-control-prev" href="#carouselExampleCaptions" role="button" data-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="sr-only">Previous</span>
            </a>
            <a class="carousel-control-next" href="#carouselExampleCaptions" role="button" data-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="sr-only">Next</span>
            </a>
        </div>
    </div>

{% endblock %}

{% block content %}
    <!------------------------------------------------------Alert Messages-->
    {% if messages %}
        {% for message in messages %}
            {{ message }}
        {% endfor %}
    {% endif %}
    <!------------------------------------------Dashboard for Logged Users-->
    {% if user.is_authenticated %}

        <div class="row">
            <!---------------------------------Top Bugs-->
            <div class="col-xs-12 col-md-4">
                <h3>Top Bugs</h3>
                <div class="table-responsive">
                    <table class="table mt-3">
                        <thead>
                        <tr>
                            <th scope="col">#</th>
                            <th scope="col">Ticket Title</th>
                            <th scope="col">Votes</th>
                        </tr>
                        </thead>
                        <tbody>
                        {% for bug in bugs_list %}
                            <tr>
                                <th scope="row">{{ forloop.counter }}</th>
                                <td>{{ bug.title }}<span
                                        class="badge badge-secondary badge-pill ml-2">{{ bug.label }}</span></td>
                                <td>{{ bug.score }}</td>
                            </tr>
                        {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>

            <!---------------------------------Top Features-->

            <div class="col-xs-12 col-md-4">
                <h3>Top Features</h3>
                <div class="table-responsive">
                    <table class="table mt-3">
                        <thead>
                        <tr>
                            <th scope="col">#</th>
                            <th scope="col">Ticket Title</th>
                            <th scope="col">Votes</th>
                        </tr>
                        </thead>
                        <tbody>
                        {% for feature in features_list %}
                            <tr>
                                <th scope="row">{{ forloop.counter }}</th>
                                <td>{{ feature.title }}<span
                                        class="badge badge-secondary badge-pill ml-2">{{ feature.label }}</span></td>
                                <td>{{ feature.score }}</td>
                            </tr>
                        {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
            <!---------------------------------Latest Tickets-->
            <div class="col-xs-12 col-md-4">
                <h3>Latest Tickets</h3>
                <div class="table-responsive">
                    <table class="table mt-3">
                        <thead>
                        <tr>
                            <th scope="col">#</th>
                            <th scope="col">Ticket Title</th>
                            <th scope="col">Votes</th>
                        </tr>
                        </thead>
                        <tbody>
                        {% for ticket in latest_tickets %}
                            <tr>
                                <th scope="row">{{ forloop.counter }}</th>
                                <td>{{ ticket.title }}<span
                                        class="badge badge-secondary badge-pill ml-2">{{ ticket.label }}</span>
                                    <span class="badge badge-secondary badge-pill ml-2">{{ ticket.type }}</span>
                                </td>
                                <td>{{ ticket.score }}</td>
                            </tr>
                        {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    {% else %}

        <div class="mt-4">
            <h2 class="text-center">Issue Tracker 3.0</h2>
            <h3 class="text-center">Reason Why?</h3>
        </div>
        <div class="row reason-why mt-5">
            <div class="col-sm-12 col-lg-3">
                <div class="text-center">
                    <i class="fas fa-users"></i>
                </div>
                <p class="mt-3"> Work together with your team mates on your favourite project. Always stay on the same
                    page</p>
            </div>
            <div class="col-sm-12 col-lg-3">
                <div class="text-center">
                    <i class="fas fa-smile"></i>
                </div>
                <p class="mt-3"> It's userfriendly and simple to use. Add bugs and feature requests in one easy step</p>
            </div>
            <div class="col-sm-12 col-lg-3">
                <div class="text-center">
                    <i class="fas fa-shapes"></i>
                </div>
                <p class="mt-3"> Flexible and intuitive. Works well with any project</p>
            </div>
            <div class="col-sm-12 col-lg-3">
                <div class="text-center">
                    <i class="fas fa-box-open"></i>
                </div>
                <p class="mt-3">Out of the box solution ready to use with all the good stuff that you need</p>
            </div>
        </div>
        <div class="text-center mt-5">
            <h2>Sounds good?</h2>
            <p>Try it yourself it's totally</p>
            <p class="display-4">FREE</p>
            <a class="btn btn-primary mt-3" href="{% url 'registration' %}" role="button" style="margin:0 auto;">Try it
                Now</a>
        </div>

    {% endif %}

{% endblock %}